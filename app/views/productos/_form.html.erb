<div class="row">
  <div class="col s8 offset-s2">
    <%= form_for(@producto) do |f| %>
      <% if @producto.errors.any? %>
        <div id="error_explanation">
          <h4><%= pluralize(@producto.errors.count, "error") %> Producto no guardado:</h4>

          <ul>
          <% @producto.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
          </ul>
        </div>
      <% end %>

      <div class="input-field col s9">
        <%= f.label :nombre %><br>
        <%= f.text_field :nombre %>
      </div>
      <div class="input-field col s9">
        <%= f.label :descripcion %><br>
        <%= f.text_field :descripcion %>
      </div>
      <div class="input-field col s9">
        <%= f.label :modelo %><br>
        <%= f.text_field :modelo %>
      </div>

      <div class="input-field col s9">
        <%= f.label :tipo_id %><br>
        <%= f.collection_select :tipo_id, Tipo.all, :id, :nombre, class: "browser-default" %>
      </div>
      <div class="actions">
        <% if @producto.nombre == nil %>
          <button type="submit" class="waves-effect waves-light btn">Crear Producto</button>
        <% else %>
          <button type="submit" class="waves-effect waves-light btn">Update Producto</button>
        <% end %>
      </div>
    <% end %>
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){
  $('#new_producto,#edit_producto_<%= @producto.id %>').bootstrapValidator({
      fields: {
          "producto[nombre]": {
              validators: {
                  notEmpty: {
                  },
                  stringLength:{
                    max: 45,
                  }
              }
          },
          "producto[descripcion]": {
              validators: {
                  notEmpty: {
                  },
                  stringLength:{
                    max: 45,
                  }
              }
          },
          "producto[modelo]": {
              validators: {
                  notEmpty: {
                  },
                  stringLength:{
                    max: 45,
                  }
              }
          },
      }
  });
});
</script>